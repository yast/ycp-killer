ruby_deps:
  - yast2

moves: 
  # move tests to proper directory, so we can export proper path
  - from: libycp/testsuite/tests/modules/*.ycp
    to: libycp/testsuite/tests/modules_test
  - from: libycp/testsuite/tests/Include/*
    to: libycp/testsuite/tests/include
  - from: libycp/testsuite/tests/Module/*
    to: libycp/testsuite/tests/modules


exports:
  # core do not export anything, but we need it for modules used in test
  - libycp/testsuite/tests/

excluded:
  # manual test are out of date
  - wfm/testsuite/manual-testing/PkgGetPackages.ycp
  - wfm/testsuite/manual-testing/Pkg.ycp
  - wfm/testsuite/manual-testing/PkgDoProvide.ycp
  - wfm/testsuite/manual-testing/PkgProgressCallbacks.ycp
  - wfm/testsuite/manual-testing/PkgTargetSpace.ycp
  - wfm/testsuite/manual-testing/PkgTargetDU.ycp
  - wfm/testsuite/manual-testing/PkgTargetUpdateInf.ycp
  - wfm/testsuite/manual-testing/PkgSourceCallbacks.ycp
  - wfm/testsuite/manual-testing/PkgSourceFunctions.ycp

  # TODO test cases is not syntatically correct and cannot be compiled without edit
  - agent-system/testsuite/tests/bash.ycp
  - agent-system/testsuite/tests/stat.ycp
  - agent-system/testsuite/tests/yast2.ycp
  - agent-system/testsuite/tests/size.ycp
  - agent-system/testsuite/tests/string.ycp
  - agent-system/testsuite/tests/remove.ycp
  - agent-system/testsuite/tests/ycp.ycp
  - agent-system/testsuite/tests/byte.ycp
  - libycp/testsuite/tests/types/bracket.ycp
  - libycp/testsuite/tests/types/bracket1.ycp
  - libycp/testsuite/tests/types/Typedef.ycp
  - libycp/testsuite/tests/types/Typedef2.ycp
  - libycp/testsuite/tests/types/bracket5.ycp
  - libycp/testsuite/tests/types/propagation2.ycp
  - libycp/testsuite/tests/types/functionpointer.ycp
  - libycp/testsuite/tests/types/const2.ycp
  - libycp/testsuite/tests/types/cast.ycp
  - libycp/testsuite/tests/types/cast1.ycp
  - libycp/testsuite/tests/types/unspec-types.ycp
  - libycp/testsuite/tests/types/propagation.ycp
  - libycp/testsuite/tests/types/bracket2.ycp
  - libycp/testsuite/tests/values/Float.ycp
  - libycp/testsuite/tests/values/Unsolved.ycp
  - libycp/testsuite/tests/values/Constants.ycp
  - libycp/testsuite/tests/values/StringConcatenation.ycp
  - libycp/testsuite/tests/values/Locale.ycp
  - libycp/testsuite/tests/values/Block.ycp
  - libycp/testsuite/tests/values/FloatExpression.ycp
  - libycp/testsuite/tests/values/Void.ycp
  - libycp/testsuite/tests/values/Strings.ycp
  - libycp/testsuite/tests/values/Integer.ycp
  - libycp/testsuite/tests/values/PathComplex.ycp
  - libycp/testsuite/tests/values/PathCompare.ycp
  - libycp/testsuite/tests/values/PathAdd.ycp
  - libycp/testsuite/tests/values/Boolean.ycp
  - libycp/testsuite/tests/values/Constants1.ycp
  - libycp/testsuite/tests/values/Path.ycp
  - libycp/testsuite/tests/values/SingleCharStrings.ycp
  - libycp/testsuite/tests/values/Maps.ycp
  - libycp/testsuite/tests/values/PathTopath.ycp
  - libycp/testsuite/tests/statements/Case.ycp
  - libycp/testsuite/tests/statements/D_IfThenElse.ycp
  - libycp/testsuite/tests/statements/While.ycp
  - libycp/testsuite/tests/statements/D_RepeatUntil.ycp
  - libycp/testsuite/tests/statements/BracketAlias.ycp
  - libycp/testsuite/tests/statements/Deep_Quote1.ycp
  - libycp/testsuite/tests/statements/VoidAssign.ycp
  - libycp/testsuite/tests/statements/D_While.ycp
  - libycp/testsuite/tests/statements/Doublequote.ycp
  - libycp/testsuite/tests/statements/Doublequote1.ycp
  - libycp/testsuite/tests/statements/Stress.ycp
  - libycp/testsuite/tests/statements/If4.ycp
  - libycp/testsuite/tests/statements/Comments.ycp
  - libycp/testsuite/tests/statements/BracketAssign.ycp
  - libycp/testsuite/tests/scope/D_DefineTerm.ycp
  - libycp/testsuite/tests/scope/Define.ycp
  - libycp/testsuite/tests/scope/Declaration.ycp
  - libycp/testsuite/tests/scope/D_VarDeclaration.ycp
  - libycp/testsuite/tests/scope/ScopeGood.ycp
  - libycp/testsuite/tests/expressions/Lookup.ycp
  - libycp/testsuite/tests/expressions/Lookup2.ycp
  - libycp/testsuite/tests/expressions/BitwiseOr.ycp
  - libycp/testsuite/tests/expressions/Infix.ycp
  - libycp/testsuite/tests/expressions/Precedence.ycp
  - libycp/testsuite/tests/expressions/Triple.ycp
  - libycp/testsuite/tests/expressions/Select_List.ycp
  - libycp/testsuite/tests/expressions/ToInteger.ycp
  - libycp/testsuite/tests/expressions/Formatted1.ycp
  - libycp/testsuite/tests/expressions/ShortEval.ycp
  - libycp/testsuite/tests/expressions/DuplicateKeys.ycp
  - libycp/testsuite/tests/expressions/nocode-parameters.ycp
  - libycp/testsuite/tests/expressions/BitwiseXor.ycp
  - libycp/testsuite/tests/expressions/Is.ycp
  - libycp/testsuite/tests/expressions/Is1.ycp
  - libycp/testsuite/tests/expressions/Is3.ycp
  - libycp/testsuite/tests/expressions/Contains.ycp
  - libycp/testsuite/tests/expressions/Formatted.ycp
  - libycp/testsuite/tests/expressions/Formatted2.ycp
  - libycp/testsuite/tests/expressions/D_Expression.ycp
  - libycp/testsuite/tests/expressions/Shift.ycp
  - libycp/testsuite/tests/expressions/Select_Term.ycp
  - libycp/testsuite/tests/expressions/Compare.ycp
  - libycp/testsuite/tests/expressions/BitwiseAnd.ycp
  - libycp/testsuite/tests/expressions/isnil.ycp
  - libycp/testsuite/tests/expressions/Bracket.ycp
  - libycp/testsuite/tests/builtin/Builtin_IV.ycp
  - libycp/testsuite/tests/builtin/Builtin-Path.ycp
  - libycp/testsuite/tests/builtin/Builtin_VIII.ycp
  - libycp/testsuite/tests/builtin/Builtin_V.ycp
  - libycp/testsuite/tests/builtin/Builtin-Multiset.ycp
  - libycp/testsuite/tests/builtin/Builtin-Map.ycp
  - libycp/testsuite/tests/builtin/Builtin-Map1.ycp
  - libycp/testsuite/tests/builtin/Builtin-Map2.ycp
  - libycp/testsuite/tests/builtin/Builtin-Map3.ycp
  - libycp/testsuite/tests/builtin/Builtin1.ycp
  - libycp/testsuite/tests/builtin/Builtin2.ycp
  - libycp/testsuite/tests/builtin/Builtin3.ycp
  - libycp/testsuite/tests/builtin/Builtin4.ycp
  - libycp/testsuite/tests/builtin/Builtin5.ycp
  - libycp/testsuite/tests/builtin/Builtin6.ycp
  - libycp/testsuite/tests/builtin/Builtin8.ycp
  - libycp/testsuite/tests/builtin/Builtin9.ycp
  - libycp/testsuite/tests/builtin/Builtin10.ycp
  - libycp/testsuite/tests/builtin/Builtin11.ycp
  - libycp/testsuite/tests/builtin/Builtin12.ycp
  - libycp/testsuite/tests/builtin/Builtin13.ycp
  - libycp/testsuite/tests/builtin/Builtin14.ycp
  - libycp/testsuite/tests/builtin/Builtin-Boolean.ycp
  - libycp/testsuite/tests/builtin/Builtin-Float.ycp
  - libycp/testsuite/tests/builtin/Builtin-Symbol.ycp
  - libycp/testsuite/tests/builtin/Builtin-String.ycp
  - libycp/testsuite/tests/builtin/Builtin-String1.ycp
  - libycp/testsuite/tests/builtin/Builtin-Term.ycp
  - libycp/testsuite/tests/builtin/Builtin-Integer.ycp
  - libycp/testsuite/tests/builtin/Builtin-Byteblock.ycp
  - libycp/testsuite/tests/builtin/Builtin-Misc.ycp
  - libycp/testsuite/tests/builtin/Builtin_II.ycp
  - libycp/testsuite/tests/builtin/Builtin_III.ycp
  - libycp/testsuite/tests/builtin/Builtin_IX.ycp
  - libycp/testsuite/tests/builtin/Builtin_IV.ycp
  - libycp/testsuite/tests/builtin/Builtin_VI.ycp
  - libycp/testsuite/tests/builtin/Builtin_VII.ycp
  - libycp/testsuite/tests/builtin/Builtin_X.ycp
  - libycp/testsuite/tests/builtin/Builtin_XI.ycp
  - libycp/testsuite/tests/builtin/Builtin_XII.ycp
  - libycp/testsuite/tests/builtin/flatten.ycp
  - libycp/testsuite/tests/builtin/swaplist.ycp
  - libycp/testsuite/tests/builtin/Random.ycp
  - libycp/testsuite/tests/builtin/revlist.ycp
  - libycp/testsuite/tests/builtin/Builtin-List.ycp
  - libycp/testsuite/tests/builtin/Builtin-List1.ycp
  - libycp/testsuite/tests/builtin/Builtin-List2.ycp
  - libycp/testsuite/tests/builtin/Builtin-Return.ycp
  - libycp/testsuite/tests/builtin/Builtin-Return1.ycp
  - libycp/testsuite/tests/scope/Namespace2i.ycp
  - agent-process/testsuite/tests/Dir.ycp
  - agent-process/testsuite/tests/tty.ycp
  - agent-process/testsuite/tests/large_output.ycp
  - agent-process/testsuite/tests/invalid_values.ycp
  - agent-process/testsuite/tests/status.ycp
  - agent-process/testsuite/tests/C_locale.ycp
  - agent-process/testsuite/tests/env.ycp
  - agent-process/testsuite/tests/stdout.ycp
  - agent-process/testsuite/tests/stderr.ycp
  - agent-process/testsuite/tests/invalid_paths.ycp
  


  # Unknown identifier - looks out of date
  - wfm/testsuite/modules/Installation.ycp

  #explicit error statements
  - libycp/testsuite/tests/types/typecodes.ycp
  - libycp/testsuite/tests/modules_test/BadModule.ycp
  - libycp/testsuite/tests/modules_test/ErrModule.ycp
  - libycp/testsuite/tests/types/const_list1.ycp
  - libycp/testsuite/tests/types/const3.ycp
  - libycp/testsuite/tests/types/returntype.ycp
  - libycp/testsuite/tests/types/Bracket-symbol.ycp
  - libycp/testsuite/tests/types/reference5.ycp
  - libycp/testsuite/tests/types/foreach.ycp
  - libycp/testsuite/tests/types/bug38375.ycp
  - libycp/testsuite/tests/types/refany_integer.ycp
  - libycp/testsuite/tests/types/refany_string.ycp
  - libycp/testsuite/tests/types/const.ycp
  - libycp/testsuite/tests/types/const1.ycp
  - libycp/testsuite/tests/types/bracket4.ycp
  - libycp/testsuite/tests/types/not_a_function.ycp
  - libycp/testsuite/tests/types/Events.ycp
  - libycp/testsuite/tests/types/prototype2.ycp
  - libycp/testsuite/tests/types/prototype3.ycp
  - libycp/testsuite/tests/types/prototype4.ycp
  - libycp/testsuite/tests/types/prototype6.ycp
  - libycp/testsuite/tests/types/reference3.ycp
  - libycp/testsuite/tests/types/listmapcrash.ycp
  - libycp/testsuite/tests/types/functionassign.ycp
  - libycp/testsuite/tests/types/bracket3.ycp
  - libycp/testsuite/tests/types/type_bitshift.ycp
  - libycp/testsuite/tests/types/crash.ycp
  - libycp/testsuite/tests/types/no-return.ycp
  - libycp/testsuite/tests/types/const_reference.ycp
  - libycp/testsuite/tests/types/reference1.ycp
  - libycp/testsuite/tests/types/functionpointer3.ycp
  - libycp/testsuite/tests/types/propagation1.ycp
  - libycp/testsuite/tests/types/mismatch.ycp
  - libycp/testsuite/tests/values/PathErr1.ycp
  - libycp/testsuite/tests/values/PathErr2.ycp
  - libycp/testsuite/tests/values/PathErr3.ycp
  - libycp/testsuite/tests/statements/Switch5.ycp
  - libycp/testsuite/tests/statements/Switch6.ycp
  - libycp/testsuite/tests/statements/SymbolDeclaration.ycp
  - libycp/testsuite/tests/statements/empty_body2.ycp
  - libycp/testsuite/tests/statements/empty_body4.ycp
  - libycp/testsuite/tests/statements/D_DoWhile.ycp
  - libycp/testsuite/tests/statements/Repeat.ycp
  - libycp/testsuite/tests/statements/If.ycp
  - libycp/testsuite/tests/statements/If2.ycp
  - libycp/testsuite/tests/statements/While1.ycp
  - libycp/testsuite/tests/statements/D_Assign.ycp
  - libycp/testsuite/tests/scope/Define1.ycp
  - libycp/testsuite/tests/scope/GlobalSymbols.ycp
  - libycp/testsuite/tests/scope/ScopeBad.ycp
  - libycp/testsuite/tests/scope/ScopeBad1.ycp
  - libycp/testsuite/tests/scope/GlobalSymbols2.ycp
  - libycp/testsuite/tests/scope/GlobalSymbols3.ycp
  - libycp/testsuite/tests/scope/Scope2.ycp
  - libycp/testsuite/tests/scope/Scope4.ycp
  - libycp/testsuite/tests/scope/Scope5.ycp
  - libycp/testsuite/tests/scope/Scope6.ycp
  - libycp/testsuite/tests/scope/Scope7.ycp
  - libycp/testsuite/tests/scope/Scope8.ycp
  - libycp/testsuite/tests/scope/Declaration1.ycp
  - libycp/testsuite/tests/scope/paramcheck.ycp
  - libycp/testsuite/tests/namespace/ui-block.ycp
  - libycp/testsuite/tests/errors/BadAssignment.ycp
  - libycp/testsuite/tests/errors/DuplParam.ycp
  - libycp/testsuite/tests/errors/BadCode.ycp
  - libycp/testsuite/tests/errors/Notifications5.ycp
  - libycp/testsuite/tests/errors/stack-overflow.ycp
  - libycp/testsuite/tests/errors/Notifications1.ycp
  - libycp/testsuite/tests/errors/pathbug.ycp
  - libycp/testsuite/tests/errors/Notifications4.ycp
  - libycp/testsuite/tests/errors/Notifications10.ycp
  - libycp/testsuite/tests/errors/Notifications8.ycp
  - libycp/testsuite/tests/errors/Notifications9.ycp
  - libycp/testsuite/tests/errors/Notifications6.ycp
  - libycp/testsuite/tests/errors/Notifications3.ycp
  - libycp/testsuite/tests/errors/Notifications.ycp
  - libycp/testsuite/tests/errors/Notifications_II.ycp
  - libycp/testsuite/tests/errors/termbug.ycp
  - libycp/testsuite/tests/errors/Notifications7.ycp
  - libycp/testsuite/tests/errors/Notifications2.ycp
  - libycp/testsuite/tests/expressions/Is2.ycp
  - libycp/testsuite/tests/expressions/Bracket-typeerror.ycp
  - libycp/testsuite/tests/expressions/Infix1.ycp
  - libycp/testsuite/tests/expressions/Infix2.ycp
  - libycp/testsuite/tests/expressions/comma.ycp
  - libycp/testsuite/tests/builtin/builtin_redeclared.ycp

  # exclude bytecode tests
  - libycp/testsuite/tests/bytecode/imports/Summary.ycp
  - libycp/testsuite/tests/bytecode/imports/Namespace2c.ycp
  - libycp/testsuite/tests/bytecode/imports/Rec.ycp
  - libycp/testsuite/tests/bytecode/imports/Self.ycp
  - libycp/testsuite/tests/bytecode/imports/Identifier.ycp
  - libycp/testsuite/tests/bytecode/imports/Namespace2a.ycp
  - libycp/testsuite/tests/bytecode/constants/path.ycp
  - libycp/testsuite/tests/bytecode/constants/list-list.ycp
  - libycp/testsuite/tests/bytecode/constants/list-empty.ycp
  - libycp/testsuite/tests/bytecode/constants/byteblock-empty.ycp
  - libycp/testsuite/tests/bytecode/constants/integer.ycp
  - libycp/testsuite/tests/bytecode/constants/list.ycp
  - libycp/testsuite/tests/bytecode/constants/locale.ycp
  - libycp/testsuite/tests/bytecode/constants/map-two.ycp
  - libycp/testsuite/tests/bytecode/constants/map-one.ycp
  - libycp/testsuite/tests/bytecode/constants/map-empty.ycp
  - libycp/testsuite/tests/bytecode/constants/list-term.ycp
  - libycp/testsuite/tests/bytecode/constants/map-map.ycp
  - libycp/testsuite/tests/bytecode/constants/float.ycp
  - libycp/testsuite/tests/bytecode/constants/void.ycp
  - libycp/testsuite/tests/bytecode/constants/string.ycp
  - libycp/testsuite/tests/bytecode/constants/map.ycp
  - libycp/testsuite/tests/bytecode/constants/nil.ycp
  - libycp/testsuite/tests/bytecode/constants/path-empty.ycp
  - libycp/testsuite/tests/bytecode/constants/symbol.ycp
  - libycp/testsuite/tests/bytecode/constants/map-term.ycp
  - libycp/testsuite/tests/bytecode/constants/byteblock.ycp
  - libycp/testsuite/tests/bytecode/constants/list-two.ycp
  - libycp/testsuite/tests/bytecode/constants/bool-true.ycp
  - libycp/testsuite/tests/bytecode/constants/bool-false.ycp
  - libycp/testsuite/tests/bytecode/constants/string-empty.ycp
  - libycp/testsuite/tests/bytecode/constants/list-one.ycp
  - libycp/testsuite/tests/bytecode/statements/variable-single.ycp
  - libycp/testsuite/tests/bytecode/statements/variable-multiple.ycp
  - libycp/testsuite/tests/bytecode/statements/assignment.ycp
  - libycp/testsuite/tests/bytecode/Module/Namespace.ycp
  - libycp/testsuite/tests/bytecode/Module/NameOfModule.ycp
  - libycp/testsuite/tests/bytecode/Module/Identifier2.ycp
  - libycp/testsuite/tests/bytecode/Module/Summary.ycp
  - libycp/testsuite/tests/bytecode/Module/Rec.ycp
  - libycp/testsuite/tests/bytecode/Module/NameOfModuleConst.ycp
  - libycp/testsuite/tests/bytecode/Module/module1.ycp
  - libycp/testsuite/tests/bytecode/Module/Module0.ycp
  - libycp/testsuite/tests/bytecode/Module/Self.ycp
  - libycp/testsuite/tests/bytecode/Module/Identifier.ycp
  - libycp/testsuite/tests/bytecode/Module/ImpInc.ycp
  - libycp/testsuite/tests/bytecode/Module/modulec.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/moduleci.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/nameofmodule1.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/nameofmodule3.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/impinc1.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/module1i.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/module0i.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/Namespace3.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/identifier2i.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/Namespace1.ycp
  - libycp/testsuite/tests/bytecode/Xmodules/impinc2.ycp
  - libycp/testsuite/tests/bytecode/expressions/functionptr.ycp
  - libycp/testsuite/tests/bytecode/expressions/division.ycp
  - libycp/testsuite/tests/bytecode/expressions/not.ycp
  - libycp/testsuite/tests/bytecode/expressions/multiplication.ycp
  - libycp/testsuite/tests/bytecode/expressions/and.ycp
  - libycp/testsuite/tests/bytecode/expressions/eq.ycp
  - libycp/testsuite/tests/bytecode/expressions/lt.ycp
  - libycp/testsuite/tests/bytecode/expressions/mapexpr.ycp
  - libycp/testsuite/tests/bytecode/expressions/listexpr.ycp
  - libycp/testsuite/tests/bytecode/expressions/gt.ycp
  - libycp/testsuite/tests/bytecode/expressions/ge.ycp
  - libycp/testsuite/tests/bytecode/expressions/ne.ycp
  - libycp/testsuite/tests/bytecode/expressions/or.ycp
  - libycp/testsuite/tests/bytecode/expressions/triple.ycp
  - libycp/testsuite/tests/bytecode/expressions/subtraction.ycp
  - libycp/testsuite/tests/bytecode/expressions/addition.ycp
  - libycp/testsuite/tests/bytecode/expressions/le.ycp
  - libycp/testsuite/tests/bytecode/expressions/localeexpr.ycp
  - libycp/testsuite/tests/statements/Default.ycp
  - libycp/testsuite/tests/statements/If1.ycp
  - libycp/testsuite/tests/statements/If3.ycp
  - libycp/testsuite/tests/statements/Deep_Quote.ycp
  - libycp/testsuite/tests/statements/loop.ycp
  - libycp/testsuite/tests/types/cast-unknown.ycp
  - libycp/testsuite/tests/modules_test/nameofmoduleconst.ycp
  - libycp/testsuite/tests/modules_test/NestedImport.ycp
  - libycp/testsuite/tests/modules_test/y-double_module.ycp
  - libycp/testsuite/tests/modules_test/emptyModule.ycp
  - libycp/testsuite/tests/expressions/namespace_scanner.ycp
  - libycp/testsuite/tests/modules_test/y-impself.ycp
  - libycp/testsuite/tests/modules_test/ImpSelf.ycp

  # empty switch not allowed
  - libycp/testsuite/tests/statements/Switch1.ycp
  
  # circular module removed as it cannot be compiled
  - libycp/testsuite/tests/modules_test/circularm1.ycp
  - libycp/testsuite/tests/modules_test/circularm2.ycp
