diff --git a/agents/Makefile.am b/agents/Makefile.am
index 945046b..e69de29 100644
--- a/agents/Makefile.am
+++ b/agents/Makefile.am
@@ -1,9 +0,0 @@
-#
-# Makefile.am for y2c_network/agents
-#
-# $Id$
-#
-
-agent_SCRIPTS = ag_udev_persistent
-scrconf_DATA = $(wildcard *.scr)
-EXTRA_DIST = $(agent_SCRIPTS) $(scrconf_DATA)
diff --git a/data/Makefile.am b/data/Makefile.am
index 15ffd95..e69de29 100644
--- a/data/Makefile.am
+++ b/data/Makefile.am
@@ -1,4 +0,0 @@
-# Makefile.am for .../source/network/data
-
-ydata_DATA = modem-t35-keys.ycp phone-codes.ycp
-EXTRA_DIST = $(ydata_DATA)
diff --git a/doc/autodocs/Makefile.am b/doc/autodocs/Makefile.am
index a708e92..4b93a56 100644
--- a/doc/autodocs/Makefile.am
+++ b/doc/autodocs/Makefile.am
@@ -1,4 +1,6 @@
 # Makefile.am for YCP module .../doc/autodocs
 
-AUTODOCS_YCP = $(srcdir)/../../src/*/*.ycp
-include $(top_srcdir)/autodocs-ycp.ami
+# TODO FIXME: temporarily disabled
+
+#AUTODOCS_YCP = $(srcdir)/../../src/*/*.ycp
+#include $(top_srcdir)/autodocs-ycp.ami
diff --git a/src/clients/network.ycp b/src/clients/network.ycp
index a1f540d..302da53 100644
--- a/src/clients/network.ycp
+++ b/src/clients/network.ycp
@@ -173,8 +173,7 @@ dsl	")+ _("DSL Connection") +("
 	"options" : $[
 		],
 	"mapping" : $[
-//		"run" : [  ],
-		]
+		], //		"run" : [  ],
 ];
 
 
diff --git a/src/include/network/dsl/wizards.ycp b/src/include/network/dsl/wizards.ycp
index c953412..3a9421d 100644
--- a/src/include/network/dsl/wizards.ycp
+++ b/src/include/network/dsl/wizards.ycp
@@ -299,7 +299,7 @@ define symbol DSLSequence() ``{
 	"write" : $[
 	    `abort	: `abort,
 	    `next	: `next //"finish"
-	]
+	],
 /*
 	"finish" : $[
 	    `next	: `next,
diff --git a/src/include/network/isdn/lowlevel.ycp b/src/include/network/isdn/lowlevel.ycp
index 8cd40f2..2c1080c 100644
--- a/src/include/network/isdn/lowlevel.ycp
+++ b/src/include/network/isdn/lowlevel.ycp
@@ -225,7 +225,8 @@ define term Card_Parameter(map drv) ``{
 	if (drv == nil)
 	    return contens;
 
-	if (typ == 8005) { /* AVM T1 */
+	if (typ == 8005) /* AVM T1 */
+  {
 	    // CheckBox label
 	    contens = add(contens, `CheckBox(`id(`t1b), _("&T1B Version"), false));
 	}
diff --git a/src/include/network/lan/address.ycp b/src/include/network/lan/address.ycp
index d832a40..69c1c8f 100644
--- a/src/include/network/lan/address.ycp
+++ b/src/include/network/lan/address.ycp
@@ -1091,8 +1091,7 @@ _("<p><b><big>IFPLUGD PRIORITY</big></b></p>
 	`Frame(_("Detailed Settings"), `HBox(`HStretch(),
 	`HSquash(`VBox(
 //	    `VSpacing(0.4),
-	    "ADVANCED_MB"
-//	    `VSpacing(0.4)
+	    "ADVANCED_MB" //	    `VSpacing(0.4)
 	)),
 	`HStretch()
     )));
diff --git a/src/include/network/lan/bridge.ycp b/src/include/network/lan/bridge.ycp
index e597956..ec028b3 100644
--- a/src/include/network/lan/bridge.ycp
+++ b/src/include/network/lan/bridge.ycp
@@ -30,6 +30,10 @@
 {
 textdomain "network";
 
+import "LanItems";
+import "NetworkInterfaces";
+import "Map";
+import "Popup";
 
 /**
  * Initializes widget (BRIDGE_PORTS) which contains list of devices available
diff --git a/src/include/network/lan/complex.ycp b/src/include/network/lan/complex.ycp
index e11a8a4..0dc4672 100644
--- a/src/include/network/lan/complex.ycp
+++ b/src/include/network/lan/complex.ycp
@@ -355,7 +355,9 @@ If you edit the settings for this interface here,
 the interface will no longer be managed by NetworkManager.
 ")))
                 {
-                    break; // means cancel
+                    // y2r: cannot break from middle of switch
+                    // but in this function return will do
+                    return nil; // means cancel
                 }
 
                 // TODO move the defaults to GetDefaultsForHW
@@ -367,7 +369,9 @@ the interface will no longer be managed by NetworkManager.
             if (! AddInterface ()) 
             {
                 y2error( "handleOverview: AddInterface failed.");
-                break;
+                // y2r: cannot break from middle of switch
+                // but in this function return will do
+                return nil;
             }
 
             if( !DeviceReady( LanItems::getCurrentItem()[ "hwinfo", "dev_name"]:"") )
@@ -386,11 +390,20 @@ will be deleted as well.
 Really continue?
 "), LanItems::getCurrentItem()["ifcfg"]:"");
 	    if(LanItems::InterfaceHasAliases() && Popup::YesNoHeadline(Label::WarningMsg(), pop) != true)
-		break;
+            {
+                // y2r: cannot break from middle of switch
+                // but in this function return will do
+		return nil;
+            }
 
 	    // warn user when device to delete has STARTMODE=nfsroot (bnc#433867)
 	    if(NetworkInterfaces::GetValue(LanItems::getCurrentItem()["ifcfg"]:"", "STARTMODE")=="nfsroot"){
-		if(!Popup::YesNoHeadline(Label::WarningMsg(), _("Device you select has STARTMODE=nfsroot. Really delete?"))) break;
+		if(!Popup::YesNoHeadline(Label::WarningMsg(), _("Device you select has STARTMODE=nfsroot. Really delete?")))
+                {
+                    // y2r: cannot break from middle of switch
+                    // but in this function return will do
+                    return nil;
+                }
 	    }
 
 	    LanItems::DeleteItem();
diff --git a/src/include/network/lan/hardware.ycp b/src/include/network/lan/hardware.ycp
index 0cb1549..9a57d23 100644
--- a/src/include/network/lan/hardware.ycp
+++ b/src/include/network/lan/hardware.ycp
@@ -937,7 +937,7 @@ any HardwareDialog (){
     Wizard::SetContents(caption, contents, initHelp(),false, true);
     Wizard::SetAbortButton(`cancel, Label::CancelButton());
 //    Wizard::DisableBackButton();
-    any ret = CWM::Run(w, $[ /*`abort:ReallyAbort*/ ]);
+    any ret = CWM::Run(w, $[]); /*`abort:ReallyAbort*/
     Wizard::CloseDialog();
 //    Wizard::RestoreAbortButton();
     return ret;
diff --git a/src/include/network/lan/s390.ycp b/src/include/network/lan/s390.ycp
index 2d55233..02723df 100644
--- a/src/include/network/lan/s390.ycp
+++ b/src/include/network/lan/s390.ycp
@@ -6,7 +6,7 @@
  *
  * Functions for accessing and handling s390 specific needs.
  */
-
+{
 import "FileUtils";
 
 include "network/routines.ycp";
@@ -89,3 +89,5 @@ define map<string, any> s390_ReadQethConfig( string devname)
 
     return result;
 }
+
+}
diff --git a/src/include/network/lan/virtual.ycp b/src/include/network/lan/virtual.ycp
index cde9148..cb979fa 100644
--- a/src/include/network/lan/virtual.ycp
+++ b/src/include/network/lan/virtual.ycp
@@ -34,6 +34,7 @@ textdomain "network";
 import "IP";
 import "Label";
 import "Lan";
+import "LanItems";
 import "Netmask";
 import "NetworkInterfaces";
 import "NetworkService";
diff --git a/src/include/network/modem/wizards.ycp b/src/include/network/modem/wizards.ycp
index 767c126..d26fa39 100644
--- a/src/include/network/modem/wizards.ycp
+++ b/src/include/network/modem/wizards.ycp
@@ -299,7 +299,7 @@ define symbol ModemSequence() {
 	"write" : $[
 	    `abort	: `abort,
 	    `next	: `next //"finish"
-	]
+	],
 /*
 	"finish" : $[
 	    `next	: `next,
diff --git a/src/include/network/provider/provider.ycp b/src/include/network/provider/provider.ycp
index e002163..637f503 100644
--- a/src/include/network/provider/provider.ycp
+++ b/src/include/network/provider/provider.ycp
@@ -283,7 +283,8 @@ disk. If you enter the password here, it is saved in clear text on disk
     ));
 
     term encapbox = `Empty();
-    if(type == "isdn") { /* FIXME: ISDN ??? */
+    if(type == "isdn") /* FIXME: ISDN ??? */
+    {
 	/* ComboBox label */
 	encapbox = `Left(`ComboBox(`id(`encap), `opt(`notify), _("Packet &Encapsulation"), [
 	    /* ComboBox item */
@@ -393,7 +394,8 @@ disk. If you enter the password here, it is saved in clear text on disk
     ChangeWidgetIfExists(`id(`password), `Enabled, !ask_pass);
     ChangeWidgetIfExists(`id(`info), `Enabled, infotext != nil && infotext != "");
 
-    if(type == "isdn" && encap == "rawip") { /* FIXME: ISDN ??? */
+    if(type == "isdn" && encap == "rawip") /* FIXME: ISDN ??? */
+    {
 	// seems that disabling via frame is not possible
 	// UI::ChangeWidget(`id(`auth), `Enabled, false);
 	ChangeWidgetIfExists(`id(`username), `Enabled, false);
diff --git a/src/include/network/services/dns.ycp b/src/include/network/services/dns.ycp
index c29640e..1adbc3f 100644
--- a/src/include/network/services/dns.ycp
+++ b/src/include/network/services/dns.ycp
@@ -44,6 +44,7 @@ import "NetworkConfig";
 import "Popup";
 import "Map";
 import "CWMTab";
+import "Wizard";
 
 include "network/routines.ycp";
 include "network/widgets.ycp";
diff --git a/src/modules/Lan.ycp b/src/modules/Lan.ycp
index caaba2a..c0d36f5 100644
--- a/src/modules/Lan.ycp
+++ b/src/modules/Lan.ycp
@@ -172,7 +172,7 @@ void readIPv6(){
                 "filelist" : ["sysctl.conf"],
                 "filepath" : "/etc/",
                 "regexp"   : "^[[:space:]]*(net.ipv6.conf.all.disable_ipv6)[[:space:]]*=[[:space:]]*1"
-        ]
+        ],
 /*
         "module" : $[
                 "filelist" : ["ipv6", "50-ipv6.conf"],
diff --git a/src/modules/Provider.ycp b/src/modules/Provider.ycp
index 93de507..543f606 100644
--- a/src/modules/Provider.ycp
+++ b/src/modules/Provider.ycp
@@ -410,8 +410,7 @@ global define boolean Select(string name) {
     if(Current == $[]) {
 	/* Default provider map */
 	Current = $[
-	    /* FIXME: remaining items */
-	];
+	]; /* FIXME: remaining items */
 
 	/* Variable key -> not functional #16701 */
 	Current[toupper(Type) + "SUPPORTED"] = "yes";
diff --git a/yast2-network.spec.in b/yast2-network.spec.in
index de9eec7..e8b2cbc 100644
--- a/yast2-network.spec.in
+++ b/yast2-network.spec.in
@@ -29,10 +29,14 @@ PreReq:         /bin/rm
 # carrier detection
 Conflicts:      yast2-core < 2.10.6
 
+Requires:       yast2-ruby-bindings >= 1.0.0
+
 Summary:        YaST2 - Network Configuration
 
 %package devel-doc
 Group:          System/YaST
+Requires:       yast2-ruby-bindings >= 1.0.0
+
 Summary:        YaST2 - Developer documentation for yast2-network
 
 %description 
@@ -71,10 +71,9 @@ fi
 @ybindir@/*
 @ydatadir@/*
 @yncludedir@/network
-@clientdir@/*.ycp
+@clientdir@/*.rb
 @moduledir@/YaPI/NETWORK.pm
-@moduledir@/*.ycp
-@moduledir@/*.ybc
+@moduledir@/*.rb
 @desktopdir@/*.desktop
 @scrconfdir@/*.scr
 @agentdir@/ag_udev_persistent
