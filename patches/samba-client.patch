diff --git a/agent-pam_mount/Makefile.am b/agent-pam_mount/Makefile.am
index 1d6b63f..e69de29 100644
--- a/agent-pam_mount/Makefile.am
+++ b/agent-pam_mount/Makefile.am
@@ -1,10 +0,0 @@
-#
-# Makefile.am for agent-pam_mount
-#
-
-agentdir = @execcompdir@/servers_non_y2
-
-agent_SCRIPTS = ag_*
-scrconf_DATA = *.scr
-
-EXTRA_DIST = $(agent_SCRIPTS) $(scrconf_DATA)
diff --git a/agents/Makefile.am b/agents/Makefile.am
index 4b88cc4..e69de29 100644
--- a/agents/Makefile.am
+++ b/agents/Makefile.am
@@ -1,7 +0,0 @@
-#
-# Makefile.am for devtools/devtools/skeletons/config/agents
-#
-
-scrconf_DATA = cfg_smbconf.scr etc_security_winbind.scr
-
-EXTRA_DIST = $(scrconf_DATA)
diff --git a/doc/autodocs/Makefile.am b/doc/autodocs/Makefile.am
index 4128d71..ddde8e7 100644
--- a/doc/autodocs/Makefile.am
+++ b/doc/autodocs/Makefile.am
@@ -2,5 +2,7 @@
 # Makefile.am for devtools/devtools/skeletons/config/doc/autodocs
 #
 
-include $(top_srcdir)/autodocs-ycp.ami
+# TODO FIXME: temporarily disabled
+
+#include $(top_srcdir)/autodocs-ycp.ami
 
diff --git a/src/include/samba-client/dialogs.ycp b/src/include/samba-client/dialogs.ycp
index 572531d..db90fd4 100644
--- a/src/include/samba-client/dialogs.ycp
+++ b/src/include/samba-client/dialogs.ycp
@@ -638,11 +638,11 @@ symbol MembershipDialog () {
 		    // a workgroup, must be a domain; %1 is the workgroup name
 		    sformat( _("Cannot use the workgroup\n'%1' for Linux authentication."), workgroup)
 		    + "\n\n"
-		    + (Stage::cont()
+		    + (Stage::cont() ?
 			// translators: 2nd part of an error message
-			? _("Enter a valid domain.")
+			_("Enter a valid domain.") :
 			// translators: 2nd part of an error message
-			: _("Enter a domain or disable\nusing SMB for Linux authentication.")));
+			_("Enter a domain or disable\nusing SMB for Linux authentication.")));
 		    continue;
 		}
 
@@ -673,9 +673,9 @@ settings in smb.conf to the default values:
 			// winbind cannot provide user information if the host
 			// is not in a domain
 			Popup::Error( _("The host must be a member of a domain\nfor Linux authentication using SMB.")
-			    + "\n\n"
+			    + "\n\n" +
 			    // translators: 2nd part of an error message
-			    + _("Join a domain or disable use of SMB\nfor Linux authentication."));
+			    _("Join a domain or disable use of SMB\nfor Linux authentication."));
 			continue;
 		    }
 		}
diff --git a/src/include/samba-client/helps.ycp b/src/include/samba-client/helps.ycp
index 013f6eb..7ba7cb2 100644
--- a/src/include/samba-client/helps.ycp
+++ b/src/include/samba-client/helps.ycp
@@ -59,9 +59,9 @@ An additional dialog informs you whether it is safe to do so.
 "),
 
     /* translators: Samba workgroup dialog help title */
-    "MembershipDialog_nocont" : _("<p><b><big>Selecting Windows Domain Membership</big></b></p>")
+    "MembershipDialog_nocont" : _("<p><b><big>Selecting Windows Domain Membership</big></b></p>") +
     /* translators: Samba workgroup dialog help 1/3 */
-+ _("<p>A Linux client can be a member of a workgroup, NT domain, or Active Directory domain.
+_("<p>A Linux client can be a member of a workgroup, NT domain, or Active Directory domain.
 Specify the name of the membership.</p>
 ") +
 
@@ -80,12 +80,12 @@ if it is a NT or Active Directory domain, allows this host to join the domain.</
 "),
 
     /* translators: Samba membership dialog help title (installation) */
-    "MembershipDialog_cont" : _("<p><b><big>Selecting Windows Domain Membership</big></b></p>")
+    "MembershipDialog_cont" : _("<p><b><big>Selecting Windows Domain Membership</big></b></p>") +
     /* translators: Samba membership dialog help 1/2 (installation) */
-+ _("<p>Specify the name of the NT or Active Directory domain.</p>
-")
+_("<p>Specify the name of the NT or Active Directory domain.</p>
+") +
     /* translators: Samba membership dialog help 2/2 (installation) */
-+ _("<p>When you press <b>Next</b>, the system verifies the domain and
+_("<p>When you press <b>Next</b>, the system verifies the domain and
 allows this host to join the domain.</p>
 "),
 
diff --git a/yast2-samba-client.spec.in b/yast2-samba-client.spec.in
index 0dc5bb4..a212d16 100644
--- a/yast2-samba-client.spec.in
+++ b/yast2-samba-client.spec.in
@@ -15,6 +15,8 @@ Requires:       yast2 >= 2.21.22
 
 BuildArchitectures:	noarch
 
+Requires:       yast2-ruby-bindings >= 1.0.0
+
 Summary:	YaST2 - Samba Client Configuration
 
 %description
@@ -33,11 +35,10 @@ workgroup/domain and authentication against an SMB domain.
 %defattr(-,root,root)
 %dir @yncludedir@/samba-client
 @yncludedir@/samba-client/*
-@clientdir@/samba-client.ycp
-@clientdir@/samba-client_*.ycp
+@clientdir@/samba-client.rb
+@clientdir@/samba-client_*.rb
 @moduledir@/Samba*.pm
-@moduledir@/Samba.ycp
-@moduledir@/Samba.ybc
+@moduledir@/Samba.rb
 @desktopdir@/samba-client.desktop
 @scrconfdir@/*.scr
 @agentdir@/ag_pam_mount
